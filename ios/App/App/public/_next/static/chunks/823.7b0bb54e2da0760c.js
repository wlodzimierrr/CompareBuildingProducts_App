"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{823:function(e,t,n){n.r(t),n.d(t,{startInputShims:function(){return k}});var o=n(8556),i=n(2069),r=n(9838),l=n(9933);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let a=new WeakMap,d=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];a.has(e)!==n&&(n?u(e,t,o,i):c(e,t))},s=e=>e===e.getRootNode().activeElement,u=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.parentNode,r=t.cloneNode(!1);r.classList.add("cloned-input"),r.tabIndex=-1,o&&(r.disabled=!0),i.appendChild(r),a.set(e,r);let l="rtl"===e.ownerDocument.dir?9999:-9999;e.style.pointerEvents="none",t.style.transform="translate3d(".concat(l,"px,").concat(n,"px,0) scale(0)")},c=(e,t)=>{let n=a.get(e);n&&(a.delete(e),n.remove()),e.style.pointerEvents="",t.style.transform=""},v=(e,t,n)=>{if(!n||!t)return()=>{};let o=n=>{s(t)&&d(e,t,n)},i=()=>d(e,t,!1),l=()=>o(!0),a=()=>o(!1);return(0,r.a)(n,"ionScrollStart",l),(0,r.a)(n,"ionScrollEnd",a),t.addEventListener("blur",i),()=>{(0,r.b)(n,"ionScrollStart",l),(0,r.b)(n,"ionScrollEnd",a),t.removeEventListener("blur",i)}},m="input, textarea, [no-blur], [contenteditable]",f=()=>{let e=!0,t=!1,n=document,o=()=>{t=!0},i=()=>{e=!0},l=o=>{if(t){t=!1;return}let i=n.activeElement;if(!i||i.matches(m))return;let r=o.target;r===i||r.matches(m)||r.closest(m)||(e=!1,setTimeout(()=>{e||i.blur()},50))};return(0,r.a)(n,"ionScrollStart",o),n.addEventListener("focusin",i,!0),n.addEventListener("touchend",l,!1),()=>{(0,r.b)(n,"ionScrollStart",o,!0),n.removeEventListener("focusin",i,!0),n.removeEventListener("touchend",l,!1)}},w=(e,t,n,o)=>{var i;return h((null!==(i=e.closest("ion-item,[ion-item]"))&&void 0!==i?i:e).getBoundingClientRect(),t.getBoundingClientRect(),n,o)},h=(e,t,n,o)=>{let i=e.top,r=e.bottom,l=t.top,a=Math.min(t.bottom,o-n),d=l+15,s=a-50-r,u=d-i,c=Math.min(Math.round(s<0?-s:u>0?-u:0),i-l);return{scrollAmount:c,scrollDuration:Math.min(400,Math.max(150,Math.abs(c)/.3)),scrollPadding:n,inputSafeY:-(i-d)+4}},p="$ionPaddingTimer",b=(e,t,n)=>{let o=e[p];o&&clearTimeout(o),t>0?e.style.setProperty("--keyboard-offset","".concat(t,"px")):e[p]=setTimeout(()=>{e.style.setProperty("--keyboard-offset","0px"),n&&n()},120)},g=(e,t,n)=>{e.addEventListener("focusout",()=>{t&&b(t,0,n)},{once:!0})},y=0,E="data-ionic-skip-scroll-assist",S=function(e,t,n,i,r,a,d){let s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=a&&(void 0===d||d.mode===l.a.None),c=!1,v=void 0!==o.w?o.w.innerHeight:0,m=o=>{if(!1===c){c=!0;return}D(e,t,n,i,o.detail.keyboardHeight,u,s,v,!1)},f=()=>{c=!1,null===o.w||void 0===o.w||o.w.removeEventListener("ionKeyboardDidShow",m),e.removeEventListener("focusout",f,!0)},w=async()=>{if(t.hasAttribute(E)){t.removeAttribute(E);return}D(e,t,n,i,r,u,s,v),null===o.w||void 0===o.w||o.w.addEventListener("ionKeyboardDidShow",m),e.addEventListener("focusout",f,!0)};return e.addEventListener("focusin",w,!0),()=>{e.removeEventListener("focusin",w,!0),null===o.w||void 0===o.w||o.w.removeEventListener("ionKeyboardDidShow",m),e.removeEventListener("focusout",f,!0)}},L=e=>{document.activeElement!==e&&(e.setAttribute(E,"true"),e.focus())},D=async function(e,t,n,o,l,a){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=!(arguments.length>8)||void 0===arguments[8]||arguments[8];if(!n&&!o)return;let v=w(e,n||o,l,u);if(n&&4>Math.abs(v.scrollAmount)){L(t),a&&null!==n&&(b(n,y),g(t,n,()=>y=0));return}d(e,t,!0,v.inputSafeY,s),L(t),(0,r.r)(()=>e.click()),a&&n&&b(n,y=v.scrollPadding);{let o;let r=async()=>{void 0!==o&&clearTimeout(o),window.removeEventListener("ionKeyboardDidShow",l),window.removeEventListener("ionKeyboardDidShow",r),n&&await (0,i.c)(n,0,v.scrollAmount,v.scrollDuration),d(e,t,!1,v.inputSafeY),L(t),a&&g(t,n,()=>y=0)},l=()=>{window.removeEventListener("ionKeyboardDidShow",l),window.addEventListener("ionKeyboardDidShow",r)};if(n){let e=await (0,i.g)(n),a=e.scrollHeight-e.clientHeight;if(c&&v.scrollAmount>a-e.scrollTop){"password"===t.type?(v.scrollAmount+=50,window.addEventListener("ionKeyboardDidShow",l)):window.addEventListener("ionKeyboardDidShow",r),o=setTimeout(r,1e3);return}}r()}},k=async(e,t)=>{if(void 0===o.d)return;let n="ios"===t,a="android"===t,d=e.getNumber("keyboardHeight",290),s=e.getBoolean("scrollAssist",!0),u=e.getBoolean("hideCaretOnScroll",n),c=e.getBoolean("inputBlurring",n),m=e.getBoolean("scrollPadding",!0),w=Array.from(o.d.querySelectorAll("ion-input, ion-textarea")),h=new WeakMap,p=new WeakMap,b=await l.K.getResizeMode(),g=async e=>{await new Promise(t=>(0,r.c)(e,t));let t=e.shadowRoot||e,n=t.querySelector("input")||t.querySelector("textarea"),o=(0,i.a)(e),l=o?null:e.closest("ion-footer");if(n){if(o&&u&&!h.has(e)){let t=v(e,n,o);h.set(e,t)}if(!("date"===n.type||"datetime-local"===n.type)&&(o||l)&&s&&!p.has(e)){let t=S(e,n,o,l,d,m,b,a);p.set(e,t)}}},y=e=>{if(u){let t=h.get(e);t&&t(),h.delete(e)}if(s){let t=p.get(e);t&&t(),p.delete(e)}};for(let e of(c&&f(),w))g(e);o.d.addEventListener("ionInputDidLoad",e=>{g(e.detail)}),o.d.addEventListener("ionInputDidUnload",e=>{y(e.detail)})}}}]);